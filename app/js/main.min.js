document.addEventListener("scroll",()=>{const a=$(".header_js");return 50<=window.scrollY?a.classList.add("header_scrolled"):void a.classList.remove("header_scrolled")}),$(".btn_mob_js").onclick=a=>{$(".nav_holder_js").classList.toggle("opened"),a.target.classList.toggle("opened")},$("#roadmap")&&1280<window.innerWidth&&mapReveal(),$(".img_decor")&&controlAsideDecor(),$(".img_block")&&1280<window.innerWidth&&revealImages(),$(".hero_block")&&parallax(),$(".main_nav")&&smoothAutoScroll();function mapReveal(){const a="#roadmap",b=function(){const b=document.querySelector(a);return b.getBoundingClientRect().top+document.documentElement.scrollTop}(),c=5280,d=$(a),e=$$("[class *= \"step_\"]"),f=Array.from($(".paint_part").children);new function(){function a(f){const g={start:0,end:.85},h=f.detail;let i=(h-g.start)/(g.end-g.start);if(1<i&&(i=1),i>e){e=i;const a=c*(1-i);gsap.to(b,{duration:1,attr:{"stroke-dashoffset":a},ease:"power2.out"})}.9<=f.detail&&(b.setAttribute("stroke-dashoffset",0),d.removeEventListener("progress-update",a))}const b=document.querySelector("#pathmask").firstElementChild;let e=0;gsap.set(b,{duration:1,attr:{"stroke-dashoffset":5280}}),d.addEventListener("progress-update",a)},function(){window.addEventListener("scroll",function(){const a=document.documentElement.scrollTop;if(a<c||7200<a)return;const e=a+window.innerHeight-300,f=new CustomEvent("progress-update",{detail:(e-b)/1920});d.dispatchEvent(f)})}(),function(a){function b(a){let b=0;const c=2e3,d=setInterval(()=>{b+=1,value=easeOutCirc(b/c);const e=c*value;a.style.cssText=`-webkit-mask-size: ${e}px; mask-size: ${e}px`,e>=c&&clearInterval(d)},16)}a.forEach(a=>{a.style.cssText="-webkit-mask-size: 0px 0px; mask-size: 0px 0px";const c=+a.dataset.mark,e=function(f){f.detail<c||(d.removeEventListener("progress-update",e),b(a))};d.addEventListener("progress-update",e)})}(e),function(a){a.forEach(a=>{a.classList.add("hidden");const b=+a.dataset.mark,c=function(e){e.detail<b||(d.removeEventListener("progress-update",c),a.classList.remove("hidden"))};d.addEventListener("progress-update",c)})}(f)}function controlAsideDecor(){function a(a){b.forEach(b=>{const c=b.querySelector(".img_decor");let d=b.querySelector(".text_cont");return"in"===a?d.appendChild(c):void b.appendChild(c)})}const b=$$(".post_item");window.matchMedia(`(max-width: ${1280}px)`).matches?a("in"):a("out"),window.matchMedia(`(max-width: ${1280}px)`).onchange=b=>b.matches?a("in"):void a("out")}function revealImages(){const a=$$(".post_item");const b=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting){b.unobserve(a.target);const c=a.target.parentElement.parentElement;let d;if(d=c.parentElement.classList.contains("token_section")?c.parentElement.querySelector(".img_block"):c.querySelector(".img_block"),d){let a=0;const b=6e3,c=setInterval(()=>{a+=5,value=easeOutExpo(a/b);const e=b*value;d.style.cssText=`-webkit-mask-size: ${e}px; mask-size: ${e}px`,e>=b&&clearInterval(c)},16)}}})},{root:null,rootMargin:"0px 0px -100px 0px",threshold:1});a.forEach(a=>{b.observe(a.querySelector(".text_cont > p:first-child"));let c;c=a.parentElement.classList.contains("token_section")?a.parentElement.querySelector(".img_block"):a.querySelector(".img_block"),c.style.cssText="-webkit-mask-size: 0px; mask-size: 0px"})}function parallax(){const a=$(".shadow_box"),b=$(".banner_anim"),c=$(".banner_anim .mountains"),d=$(".banner_anim .clouds1"),e=$(".banner_anim .clouds2"),f=$(".banner_anim .clouds3"),g=$(".banner_anim .town"),h=$(".banner_anim .camp"),i=$(".banner_anim .templar"),j=$(".banner_anim .templarhand"),k=$(".banner_anim .merc"),l=$(".banner_anim .merchand"),m=$(".banner_anim .holder_persons"),n=$(".banner_anim .coin");gsap.set(j,{transformOrigin:"0% 50%"}),gsap.to(j,{rotation:3,repeat:-1,yoyo:!0,duration:3,ease:"power1.inOut"}),gsap.set([l,n],{transformOrigin:"90% 5%"}),gsap.to([l,n],{rotation:5,repeat:-1,yoyo:!0,duration:3,ease:"power1.inOut"}),function(){gsap.set(".coin .glow",{rotate:40}),gsap.to(".coin .glow",{duration:3,x:"350%",repeat:-1})}(),function(){gsap.to(f,{duration:10,x:"5%",autoAlpha:0,repeat:-1,ease:"none"}),gsap.to(e,{duration:40,x:"5%",autoAlpha:0,repeat:-1,ease:"none"}),gsap.to(d,{duration:20,x:"5%",autoAlpha:0,repeat:-1,ease:"none"});const a=d.cloneNode(!0),b=e.cloneNode(!0),c=f.cloneNode(!0);d.insertAdjacentElement("afterend",a),e.insertAdjacentElement("afterend",b),f.insertAdjacentElement("afterend",c),gsap.set([a,b,c],{x:"-5%",autoAlpha:0}),gsap.to(a,{duration:20,x:"0%",autoAlpha:1,repeat:-1,ease:"none"}),gsap.to(b,{duration:40,x:"0%",autoAlpha:1,repeat:-1,ease:"none"}),gsap.to(c,{duration:10,x:"0%",autoAlpha:1,repeat:-1,ease:"none"})}(),document.addEventListener("scroll",()=>{const a=document.documentElement.scrollTop;a<window.innerHeight&&(gsap.set(b,{y:a*.4}),gsap.set([i,j,k,l,n],{y:.2*-a}),gsap.set(d,{y:.025*-a}),gsap.set(e,{y:.1*-a}),gsap.set(f,{y:.2*a}),gsap.set([c,h,g],{y:.1*a}))})}function smoothAutoScroll(){function a(){$(".btn_mob_js").classList.remove("opened"),$(".nav_holder_js").classList.remove("opened")}const b=Array.from($(".main_nav").children);b.forEach(b=>{b.onclick=c=>{c.preventDefault(),a();const d=b.firstElementChild.getAttribute("href");gsap.to(window,{duration:1.5,scrollTo:{y:d,offsetY:160},ease:"power3.inOut"})}})}function $(a){return document.querySelector(a)}function $$(a){return document.querySelectorAll(a)}function easeOutCirc(a){return Math.sqrt(1-Math.pow(a-1,2))}function easeOutExpo(a){return 1===a?1:1-Math.pow(2,-10*a)}
